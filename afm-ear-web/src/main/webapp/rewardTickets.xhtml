<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<style>
.ticketcontainer {
	vertical-align: top;
}
</style>
<h:form prependId="false">
	<p:growl id="idRewardTicketsGrowl" showDetail="true" life="3000" />

	<p:accordionPanel multiple="true" activeIndex="1">
		<p:tab title="Columns">
			<p:panelGrid cellpadding="4"
				style="border:none !important; background:white;">
				<p:row>
					<p:column colspan="5">
						<h:outputText value="Identification information:"
							style="font-size: 14px !important;"
							styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>
				<p:row>
					<p:column></p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderIdColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Reward Ticket Id"
							styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderUserIdColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="User Id" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderUserEmailColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Email" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderHashColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Hash" styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>

				<p:row>
					<p:column colspan="5">
						<h:outputText value="Reward information:"
							style="font-size: 14px !important;"
							styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>
				<p:row>
					<p:column></p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderRewardNameColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Reward Name" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderCreditPointsColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Credit Points" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderRewardTypeColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Reward Type" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderRewardIdColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Reward Id" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderRewardCategoryColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Reward Category"
							styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>

				<p:row>
					<p:column colspan="5">
						<h:outputText style="font-size: 14px !important;"
							styleClass="dialog-mediumFont" value="Processing information:" />
					</p:column>
				</p:row>
				<p:row>
					<p:column></p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderRequestDateColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Request Date" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderProcessingDateColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Processing Date"
							styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderCloseDateColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Close Date" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderStatusColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Status" styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>
				<p:row>
					<p:column></p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderCommentColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Comment" styleClass="dialog-mediumFont" />
					</p:column>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{rewardTicketsBean.renderTicketOwnerColumn}" />
						<p:spacer width="5" height="10" />
						<h:outputText value="Ticket Owner" styleClass="dialog-mediumFont" />
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:tab>
		<p:tab title="Filters" id="idRewardTicketsFilters">
			<h:panelGrid columns="10" cellpadding="4">
				<h:outputText styleClass="dialog-mediumFont" value="View data from" />
				<p:calendar id="startdatetime"
					value="#{rewardTicketsBean.startDate}"
					pattern="dd/MM/yyyy HH:mm:ss" size="22" />
				<h:outputText styleClass="dialog-mediumFont" value="to" />
				<p:calendar id="enddatetime" value="#{rewardTicketsBean.endDate}"
					pattern="dd/MM/yyyy HH:mm:ss" size="22" />
				<h:outputText styleClass="dialog-mediumFont" value="for reward" />
				<p:selectOneMenu value="#{rewardTicketsBean.filterRewardName}"
					style="width:120px">
					<f:selectItems value="#{rewardTicketsBean.rewardNames}" />
				</p:selectOneMenu>
				<h:outputText styleClass="dialog-mediumFont" value="and for" />
				<p:selectOneMenu value="#{rewardTicketsBean.filterType}"
					style="width:150px">
					<f:selectItem itemLabel="All" itemValue="All" />
					<f:selectItem itemLabel="User ID" itemValue="userId" />
					<f:selectItem itemLabel="Email" itemValue="email" />
					<f:selectItem itemLabel="Status" itemValue="status" />
					<f:selectItem itemLabel="Ticket Owner" itemValue="ticketOwner" />
					<f:selectItem itemLabel="Hash" itemValue="hash" />
				</p:selectOneMenu>
				<p:inputText id="idFilterValueField"
					value="#{rewardTicketsBean.filterValue}" style="width:250px" />
				<p:commandButton value="Run report" icon="ui-icon-search"
					style="vertical-align:text-top;"
					action="#{rewardTicketsBean.refresh()}" update="" process="@form"
					oncomplete="" />
			</h:panelGrid>

		</p:tab>
	</p:accordionPanel>
	<p:dataTable id="idRewardTicketsTable" sortBy="#{ticket.requestDate}"
		sortOrder="DESCENDING" widgetVar="widgetUserEventsTable" var="ticket"
		value="#{rewardTicketsBean.rewardTicketsLazy}" lazy="true"
		paginator="true" paginatorPosition="top" rows="10"
		currentPageReportTemplate="{startRecord}-{endRecord} from {totalRecords}"
		paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
		rowsPerPageTemplate="10,20,30,50,100" resizableColumns="true">

		<p:ajax event="page" update="" onstart="" oncomplete=""
			listener="#{rewardTicketsBean.pageUpdate}" />


		<p:column rendered="#{rewardTicketsBean.renderIdColumn}"
			prependId="false" headerText="Id" sortBy="id"
			style="width:25px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.id}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderStatusColumn}"
			prependId="false" headerText="Status" sortBy="status"
			style="width:90px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.status}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderUserIdColumn}"
			prependId="false" headerText="User ID" sortBy="userId"
			style="width:30px; text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.userId}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderUserEmailColumn}"
			prependId="false" headerText="User Email" sortBy="email"
			style="width:100px;text-align:left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.email}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderRewardNameColumn}"
			prependId="false" headerText="Reward Name" sortBy="rewardName"
			style="width:80px; text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.rewardName}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderRewardCategoryColumn}"
			prependId="false" headerText="Reward Name" sortBy="rewardName"
			style="width:80px; text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.rewardCategory}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderRewardTypeColumn}"
			prependId="false" headerText="Reward Type" sortBy="rewardType"
			style="width:100px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.rewardType}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderRewardIdColumn}"
			prependId="false" headerText="Hash" sortBy="hash"
			style="width:300px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.rewardId}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderCreditPointsColumn}"
			prependId="false" footerText="#{rewardTicketsBean.sumCreditPoints}"
			headerText="Credit Points" sortBy="creditPoints"
			style="width:55px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.creditPoints}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderRequestDateColumn}"
			prependId="false" headerText="Request Date" sortBy="requestDate"
			style="width:90px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.requestDate.toString()}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderProcessingDateColumn}"
			prependId="false" headerText="Processing Date"
			sortBy="processingDate" style="width:90px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.processingDate.toString()}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderCloseDateColumn}"
			prependId="false" headerText="Close Date" sortBy="closeDate"
			style="width:90px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.closeDate.toString()}" />
		</p:column>

		<p:column rendered="#{rewardTicketsBean.renderCommentColumn}"
			prependId="false" headerText="Comment" sortBy="comment"
			style="width:200px;text-align: left; table-layout: fixed; word-wrap: break-word;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.comment}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderTicketOwnerColumn}"
			prependId="false" headerText="Ticket Owner" sortBy="ticketOwner"
			style="width:80px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.ticketOwner}" />
		</p:column>
		<p:column rendered="#{rewardTicketsBean.renderHashColumn}"
			prependId="false" headerText="Hash" sortBy="hash"
			style="width:300px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<h:outputText value="#{ticket.hash}" />
		</p:column>
		<p:column rendered="true" prependId="false" headerText="Action"
			sortBy="action" style="width:16px;text-align: left;"
			styleClass="ui-nodesStatusTableHeader">
			<p:rowToggler
				actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}" />
		</p:column>
		<p:column prependId="false" headerText="Logs" style="width:50px"
			styleClass="ui-nodesStatusTableHeader">
			<p:commandButton value="View logs" id="idRewardTicketLogButton"
				actionListener="#{rewardTicketsBean.loadLogs(ticket)}"
				oncomplete="widgetDialogRewardTicketLogs.show()" />
		</p:column>
		<p:rowExpansion
			actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}">

			<p:panelGrid id="idTicketPanel"
				style="background: #F1F5F8;width:100%" columns="1">
				<h:panelGrid id="idTicketPanelGrid1" columns="3" cellpadding="1">
					<h:outputText style="font-size:20px" value="Ticket # #{ticket.id}" />
					<h:outputText style="font-size:20px" value="Comment" />
					<h:outputText style="font-size:20px" value="Actions" />
				</h:panelGrid>

				<h:panelGrid id="idTicketPanelGrid2" columns="3" cellpadding="1">
					<h:panelGrid id="idTicketPanelGrid3" columns="1" cellpadding="1">
						<h:outputText styleClass="dialog-mediumFont"
							value="Reward name: #{ticket.rewardName}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Reward category: #{ticket.rewardCategory}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Reward type: #{ticket.rewardType}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Reward id: #{ticket.rewardId}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Credit Points: #{ticket.creditPoints}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="User id: #{ticket.userId}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="User email: #{ticket.email}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Request Date: #{ticket.requestDate}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Processing Date: #{ticket.processingDate}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Close Date: #{ticket.closeDate}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Status: #{ticket.status}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Ticket Owner: #{ticket.ticketOwner}" />
						<h:outputText styleClass="dialog-mediumFont"
							value="Hash: #{ticket.hash}" />

					</h:panelGrid>

					<h:panelGrid id="idTicketPanelGrid4" columns="1" cellpadding="1"
						columnClasses="ticketcontainer">
						<h:outputText
							style="white-space: normal;word-wrap: break-word;word-break: break-all;font-size:12px"
							value="#{ticket.comment}" />

					</h:panelGrid>
					<h:panelGrid id="idTicketPanelGrid5" columns="1" cellpadding="1"
						columnClasses="ticketcontainer">
						<p:commandButton value="Change Ticket Status" icon="ui-icon-tag"
							actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}"
							oncomplete="widgetEditTicketStatus.show()" />

						<p:commandButton value="Modify Comment" icon="ui-icon-comment"
							actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}"
							oncomplete="widgetEditTicketComment.show()" />

						<p:commandButton value="Change Ticket Owner" icon="ui-icon-person"
							actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}"
							oncomplete="widgetEditTicketOwner.show()" />
						<p:commandButton value="Send Credits Back To Wallet"
							icon="ui-icon-seek-next"
							actionListener="#{rewardTicketsBean.sendCreditsBackToWallet(ticket)}">
							<p:confirm header="Confirmation"
								message="Are you sure want to transfer credits back to wallet?"
								icon="ui-icon-alert" />
						</p:commandButton>
						<p:commandButton value="Send Email" icon="ui-icon-mail-open"
							actionListener="#{rewardTicketsBean.setSelectedTicket(ticket)}"
							oncomplete="widgetSendEmail.show()" />

						<p:commandButton value="Send Notification" icon="ui-icon-print"
							actionListener="#{rewardTicketsBean.setupTicketNotification(ticket)}"
							oncomplete="widgetTicketNotification.show()">

						</p:commandButton>
						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<p:commandButton value="Yes" type="button"
								styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
							<p:commandButton value="No" type="button"
								styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
						</p:confirmDialog>



					</h:panelGrid>
				</h:panelGrid>
			</p:panelGrid>

		</p:rowExpansion>

		<f:facet name="footer">
			<h:outputText value="#{rewardTicketsBean.sumTotalRows}" />
		</f:facet>
	</p:dataTable>


	<p:dialog id="idWidgetEditTicketStatus" width="300"
		style="width:500px;" header="Change ticket status"
		widgetVar="widgetEditTicketStatus" resizable="false" showEffect="clip"
		hideEffect="fold" modal="false" appendToBody="false">
		<h:panelGrid columns="2" cellpadding="4">

			<h:outputText styleClass="dialog-mediumFont" value="Ticket Status:" />
			<p:selectOneMenu rendered="true"
				value="#{rewardTicketsBean.selectedTicket.status}">
				<f:selectItems value="#{rewardTicketsBean.getTicketStatuses()}" />
			</p:selectOneMenu>
			<p:commandButton value="Save" icon="ui-icon-check"
				actionListener="#{rewardTicketsBean.saveSelectedTicket(
				)}"
				oncomplete="widgetEditTicketStatus.hide()" />
			<p:commandButton value="Close" icon="ui-icon-close"
				oncomplete="widgetEditTicketStatus.hide()" />
		</h:panelGrid>
	</p:dialog>

	<p:dialog id="idWidgetEditTicketComment" width="400"
		style="width:400px;" header="Change ticket comment"
		widgetVar="widgetEditTicketComment" resizable="false"
		showEffect="clip" hideEffect="fold" modal="false" appendToBody="false">
		<h:panelGrid columns="2" cellpadding="4">

			<h:outputText styleClass="dialog-mediumFont" value="Ticket Comment:" />
			<p:inputTextarea rows="6" cols="33"
				value="#{rewardTicketsBean.selectedTicket.comment}" />
			<p:commandButton value="Save" icon="ui-icon-check"
				actionListener="#{rewardTicketsBean.saveSelectedTicket()}"
				oncomplete="widgetEditTicketComment.hide()" />
			<p:commandButton value="Close" icon="ui-icon-close"
				oncomplete="widgetEditTicketComment.hide()" />
		</h:panelGrid>
	</p:dialog>

	<p:dialog id="idWidgetEditTicketOwner" width="400" style="width:400px;"
		header="Change ticket owner" widgetVar="widgetEditTicketOwner"
		resizable="false" showEffect="clip" hideEffect="fold" modal="false"
		appendToBody="false">
		<h:panelGrid columns="2" cellpadding="4">

			<h:outputText styleClass="dialog-mediumFont" value="Ticket Owner:" />
			<p:selectOneMenu rendered="true"
				value="#{rewardTicketsBean.selectedTicket.ticketOwner}">
				<f:selectItems value="#{rewardTicketsBean.getAdministrators()}" />
			</p:selectOneMenu>
			<p:commandButton value="Save" icon="ui-icon-check"
				actionListener="#{rewardTicketsBean.saveSelectedTicket()}"
				oncomplete="widgetEditTicketOwner.hide()" />
			<p:commandButton value="Close" icon="ui-icon-close"
				oncomplete="widgetEditTicketOwner.hide()" />
		</h:panelGrid>
	</p:dialog>

	<p:dialog id="idDialogRewardTicketLogs"
		header="Logs for #{rewardTicketsBean.selectedTicket.hash}"
		widgetVar="widgetDialogRewardTicketLogs" width="60%" height="700"
		resizable="false" showEffect="clip" hideEffect="fold" modal="false"
		appendToBody="false">

		<p:dataTable id="idRewardTicketLogsTable"
			value="#{rewardTicketsBean.logs}" var="log"
			widgetVar="widgetRewardTicketLogsTable">

			<p:column headerText="Time" prependId="false"
				styleClass="ui-nodesStatusTableHeader" style="width:120px"
				sortBy="time">
				<h:outputText value="#{log.time}" />
			</p:column>
			<p:column headerText="Log Status" prependId="false"
				styleClass="ui-nodesStatusTableHeader">
				<h:outputText value="#{log.logStatus}" />
			</p:column>
			<p:column headerText="Message" prependId="false"
				styleClass="ui-nodesStatusTableHeader">
				<h:outputText value="#{log.message}" />
			</p:column>
			<p:column headerText="Server Name" prependId="false"
				styleClass="ui-nodesStatusTableHeader">
				<h:outputText value="#{log.serverName}" />
			</p:column>
		</p:dataTable>

		<h:panelGrid columns="1" cellpadding="4"
			style="position: absolute !important; bottom: 0px !important; vertical-align: bottom !important;">
			<p:commandButton value="Close" icon="ui-icon-close" update=""
				process="" oncomplete="widgetDialogRewardTicketLogs.hide()" />
		</h:panelGrid>
	</p:dialog>

	<p:dialog id="idWidgetSendEmail" width="400" style="width:400px;"
		header="Send Email" widgetVar="widgetSendEmail" resizable="false"
		showEffect="clip" hideEffect="fold" modal="false" appendToBody="false">
		<h:panelGrid columns="2" cellpadding="4">

			<h:outputText styleClass="dialog-mediumFont" value="Select template" />
			<p:selectOneMenu rendered="true"
				value="#{rewardTicketsBean.selectedEmailTemplate}">
				<f:selectItems value="#{rewardTicketsBean.getEmailTemplates()}" />
			</p:selectOneMenu>

			<h:outputText styleClass="dialog-mediumFont" value="Reward result" />
			<p:inputTextarea rows="6" cols="33"
				value="#{rewardTicketsBean.emailRewardResult}" />
		</h:panelGrid>

		<p:commandButton value="Preview" icon="ui-icon-check"
			actionListener="#{rewardTicketsBean.setupEmailPreview()}"
			oncomplete="widgetEmailPreview.show()" />
		<p:commandButton value="Send email" icon="ui-icon-mail-open"
			actionListener="#{rewardTicketsBean.sendEmail()}"
			oncomplete="widgetSendEmail.hide()" />
		<p:commandButton value="Close" icon="ui-icon-close"
			oncomplete="widgetSendEmail.hide()" />
	</p:dialog>

	<p:dialog id="idWidgetEmailPreview" width="800" style="width:800px;"
		header="Email Preview" widgetVar="widgetEmailPreview"
		resizable="false" showEffect="clip" hideEffect="fold" modal="false"
		appendToBody="false">

		<h:panelGrid id="idWidgetEmailPreviewGrid" columns="1" cellpadding="1">
			<h:outputText styleClass="dialog-mediumFont" escape="false"
				value="#{rewardTicketsBean.emailPreview}" />
			<p:commandButton value="Close" icon="ui-icon-close"
				oncomplete="widgetEmailPreview.hide()" />
		</h:panelGrid>
	</p:dialog>

	<p:dialog id="idWidgetTicketNotification" width="600"
		style="width:600px;" header="Ticket Notification"
		widgetVar="widgetTicketNotification" resizable="false"
		showEffect="clip" hideEffect="fold" modal="false" appendToBody="false">

		<h:panelGrid id="idWidgetTicketNotificationPreviewGrid" columns="1"
			cellpadding="1">

			<p:inputText size="200" value="#{rewardTicketsBean.notification}" />
		</h:panelGrid>
		<p:commandButton value="Close" icon="ui-icon-close"
				oncomplete="widgetTicketNotification.hide()" />
			<p:commandButton value="Send notification" icon="ui-icon-mail-open"
				actionListener="#{rewardTicketsBean.sendNotification()}"
				oncomplete="widgetTicketNotification.hide()" />
	</p:dialog>



</h:form>

</html>

